<!DOCTYPE html>
<html lang="zh-hant"
    class="js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths is-pc is-chrome is-page-open">

<head>
    <meta charset="UTF-8" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>iSCIM | iMusic</title>
    <meta name="iSCIM" content="The wisdom and ingenious computational power of ancient people are revealed by the Bazi of the East or the Numerology of the West.
        In this Internet Age, verified by science and aided with computational intelligence, we will simplify the cumbersome manual calculations.
        This enables everyone to know quickly the relationship between oneself and the world, and adopting our customized natural therapy, 
        the users can maintain their body and mind in their best state." />
    <meta name="apple-mobile-web-app-title" content="ISCIM" />
    <meta name="msapplication-TileColor" content="#b91d47" />
    <meta name="theme-color" content="#3f51b5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="icon" type="image/png" href="./Data/Common/Logo/iscim-logo-03.png" <!-- google fonts__Noto Serif TC -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC&display=swap" rel="stylesheet">

    <!-- css -->
    <link rel="stylesheet" href="./style/style.css" />
    <link rel="stylesheet" href="./style/i-style.css" />
    <link rel="stylesheet" href="./style/css/iMusic.css" />

    <!-- vue -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.5.2/vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.8.4/Sortable.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Vue.Draggable/2.20.0/vuedraggable.umd.min.js"></script>

    <!-- icon -->
    <script src="https://kit.fontawesome.com/cf44a464b8.js" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.4/axios.min.js'
        integrity='sha512-LUKzDoJKOLqnxGWWIBM4lzRBlxcva2ZTztO8bTcWPmDSpkErWx0bSP4pdsjNH8kiHAUPaT06UXcb+vOEZH+HpQ=='
        crossorigin='anonymous'></script>

</head>

<body id="top">
    <section class="common-part">
        <div id="commonPart"></div>
    </section>

    <main class="l-main is-iMusic">
        <div id="content" class="l-content iMusic">
            <section class="l-content__header">
                <h1 class="l-content__heading">
                    iMusic
                </h1>
            </section>

            <section class="l-content__body">
                <div id="medicalAlbum" class="iMusicPlayer">
                    <div class="iMusicPlayer_group">
                        <div class="iMusicPlayer_item">
                            <div class="iMusic_picture">
                                <div class="iMusic_picture_images">
                                    <img src="./Data/Common/Logo/iscim-logo-04.png">
                                </div>
                            </div>
                            <div class="iMusic_playing">
                                <span id="title"></span>
                            </div>
                            <div class="iMusic_bar dis-f-r">
                                <div class="iMusic_bar__progress">
                                    <div class="progress">
                                        <div class="slide"></div>
                                        <div class="fill"></div>
                                    </div>
                                </div>
                                <div class="iMusic_bar__time">
                                    <span class="currentTime" onchange="handleProgress()">
                                        00:00
                                    </span>
                                    <span>/</span>
                                    <span class="duraTime">00:00</span>
                                </div>
                            </div>
                            <div class="iMusic_operate">
                                <div class="navigation">
                                    <button id="prev" class="action-btn" @click="prevSong()">
                                        <i class="fa-solid fa-backward"></i>
                                    </button>
                                    <button id="play" class="action-btn action-btn-big" @click="play()">
                                        <i class="fa-solid fa-play"></i>
                                    </button>
                                    <button id="next" class="action-btn" @click="nextSong()">
                                        <i class="fa-solid fa-forward"></i>
                                    </button>
                                    <button id="playMode" class="action-btn normal" @click="modeBtn()">
                                        <div v-html="repeatMode"></div>
                                    </button>
                                </div>
                                <div class="iVolume_bar hasVolume">
                                    <button @click="openVolume()">
                                        <i class="fa-solid fa-volume-high"></i>
                                    </button>
                                    <input type="range" min="1" max="100" value="99" class="volume_slider"
                                        @change="setVolume()">
                                </div>
                            </div>
                            <div class="iMusic_timerBtn">
                                <button class="i-button" @click="showTimer">
                                    Auto ShutDown
                                </button>
                            </div>
                            <div id="setClock" class="iMusic_timer i-hidden">
                                <div class="timerValue">
                                    <input id="Check_inH" v-model="inH">hour
                                    <input id="Check_inM" v-model="inM">min
                                    <input id="Check_inS" v-model="inS">sec
                                </div>
                                <div class="timerControl">
                                    <button class="i-button" @click="startTimer">Start</button>
                                    <button class="i-button" @click="pauseTimer">Pause</button>
                                    <button class="i-button" @click="resetTimer">Reset</button>
                                </div>
                            </div>
                        </div>
                        <audio controls id="myAudio" class="i-hidden" @ended="endSong">
                            <source src="" type="audio/mp3">
                        </audio>
                    </div>
                    <div class="iMusicPlayer_group">
                        <div class="iMusicPlayer_item">
                            <div class="iMusic_playList">
                                <h2>Player List</h2>
                                <draggable tag="ul" id="songList" v-model="lists" @start="this.dragStart"
                                    @end="this.dragEnd">
                                    <li v-for="(list, index) in lists" :id="list.id" class="iMusic_selected"
                                        :index="index">
                                        <button class="musicBtn" @click="specified(index)">
                                            {{list.text}}
                                        </button>
                                        <button class="deleteBtn" @click="removeList(index)">
                                            <i class="fa-regular fa-trash-can"></i>
                                        </button>
                                    </li>
                                </draggable>
                            </div>
                            <div class="iMusicMenu_btn">
                                <button id="musicBtn_set" @click="showSet">
                                    Set
                                </button>
                                <button id="musicBtn_music" @click="showMusic">
                                    Music
                                </button>
                            </div>
                        </div>
                        <div id="subMusic" class="iMusicPlayer_item i-hidden">
                            <div class="iMusicMenu">
                                <div class="category_btn">
                                    <button @click="showSlow">Slow</button>
                                    <button @click="showMed">Med</button>
                                    <button @click="showFast">Fast</button>
                                </div>
                                <ul id="slowList" class="musicList_body i-hidden">
                                    <li v-for="item in itemSlow" class="medicalMusic" :value="item.value"
                                        @click="addMusic(item.id, item.text)">
                                        <button :name="item.id">
                                            <div class="music_header">
                                                <label>{{item.no}}、{{item.text}}</label>
                                            </div>
                                            <div class="music_text_intro">
                                                <p>{{item.intro}}</p>
                                            </div>
                                        </button>
                                    </li>
                                </ul>
                                <ul id="medList" class="musicList_body i-hidden">
                                    <li v-for="item in itemMed" class="medicalMusic" :value="item.value"
                                        @click="addMusic(item.id, item.text)">
                                        <button :name="item.id">
                                            <div class="music_header">
                                                <label>{{item.no}}、{{item.text}}</label>
                                            </div>
                                            <div class="music_text_intro">
                                                <p>{{item.intro}}</p>
                                            </div>
                                        </button>
                                    </li>
                                </ul>
                                <ul id="fastList" class="musicList_body i-hidden">
                                    <li v-for="item in itemFast" class="medicalMusic" :value="item.value"
                                        @click="addMusic(item.id, item.text)">
                                        <button :name="item.id">
                                            <div class="music_header">
                                                <label>{{item.no}}、{{item.text}}</label>
                                            </div>
                                            <div class="music_text_intro">
                                                <p>{{item.intro}}</p>
                                            </div>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="subSet" class="iMusicPlayer_item i-hidden">
                            <div class="iMusicMenu">
                                <ul class="musicList_body">
                                    <li v-for="setItem in setItems" class="medicalSet" :value="setItem.value"
                                        @click="addSet(setItem.amount, setItem.content)">
                                        <button :name="setItem.id">
                                            <div class="music_header">
                                                <label>
                                                    {{setItem.no}}、{{setItem.text}}
                                                </label>
                                            </div>
                                            <div class="music_text_intro">
                                                <p>{{setItem.intro}}</p>
                                            </div>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <footer id="iFoot"></footer>

    <script src="./js/nav.js"></script>
    <script type="text/javascript">
        new Vue({
            el: '#medicalAlbum',
            data: {
                itemSlow: [
                    {
                        no: '1',
                        id: 'Relaxed Beta',
                        text: 'S Relaxed Beta',
                        value: '0',
                        intro: 'Relaxed working state (e.g.,regular work)'
                    },
                    {
                        no: '2',
                        id: 'Relaxed Alpha',
                        text: 'Relaxed Alpha',
                        value: '1',
                        intro: 'Relaxed state of rest (e.g.,taking a break, spacing out, vegging out)'
                    },
                    {
                        no: '3',
                        id: 'Relaxed Theta',
                        text: 'Relaxed Theta',
                        value: '2',
                        intro: 'Relaxed light sleep (e.g., meditation, light sleep, half-sleep)'
                    },
                    {
                        no: '4',
                        id: 'Relaxed H-Delta',
                        text: 'Relaxed H-Delta',
                        value: '3',
                        intro: 'Relaxed deep sleep (e.g., sleeping like a rock, be dead to the world)'
                    },
                    {
                        no: '5',
                        id: 'Relaxed L-Delta',
                        text: 'Relaxed L-Delta',
                        value: '4',
                        intro: 'Relaxed deep sleep (brain waves with extremely low frequency)'
                    },
                    {
                        no: '6',
                        id: 'Focused Beta',
                        text: 'Focused Beta',
                        value: '5',
                        intro: 'Concentrated working state (e.g., catching upon the report, taking an exam, in a confrontational competition)'
                    },
                    {
                        no: '7',
                        id: 'Focused Alpha',
                        text: 'Focused Alpha',
                        value: '6',
                        intro: 'Concentrated leisure state (e.g., playing mobile games or recreational games, shopping)'
                    },
                    {
                        no: '8',
                        id: 'Focused Theta',
                        text: 'Focused Theta',
                        value: '7',
                        intro: 'A shallow state of meditation (e.g., shallow concentration, focus while meditating)'
                    },
                    {
                        no: '9',
                        id: 'Focused H-Delta',
                        text: 'Focused H-Delta',
                        value: '8',
                        intro: 'Deep meditation state (e.g., very deep meditation, into another time and space while meditating)'
                    },
                    {
                        no: '10',
                        id: 'Focused L-Delta',
                        text: 'Focused L-Delta',
                        value: '9',
                        intro: 'Deep meditation state (brain waves with extremely low frequency)'
                    },
                ],
                itemMed: [
                    {
                        no: '1',
                        id: 'Relaxed Beta',
                        text: 'M Relaxed Beta',
                        value: '0',
                        intro: 'Relaxed working state (e.g.,regular work)'
                    },
                    {
                        no: '2',
                        id: 'Relaxed Alpha',
                        text: 'Relaxed Alpha',
                        value: '1',
                        intro: 'Relaxed state of rest (e.g.,taking a break, spacing out, vegging out)'
                    },
                    {
                        no: '3',
                        id: 'Relaxed Theta',
                        text: 'Relaxed Theta',
                        value: '2',
                        intro: 'Relaxed light sleep (e.g., meditation, light sleep, half-sleep)'
                    },
                    {
                        no: '4',
                        id: 'Relaxed H-Delta',
                        text: 'Relaxed H-Delta',
                        value: '3',
                        intro: 'Relaxed deep sleep (e.g., sleeping like a rock, be dead to the world)'
                    },
                    {
                        no: '5',
                        id: 'Relaxed L-Delta',
                        text: 'Relaxed L-Delta',
                        value: '4',
                        intro: 'Relaxed deep sleep (brain waves with extremely low frequency)'
                    },
                    {
                        no: '6',
                        id: 'Focused Beta',
                        text: 'Focused Beta',
                        value: '5',
                        intro: 'Concentrated working state (e.g., catching upon the report, taking an exam, in a confrontational competition)'
                    },
                    {
                        no: '7',
                        id: 'Focused Alpha',
                        text: 'Focused Alpha',
                        value: '6',
                        intro: 'Concentrated leisure state (e.g., playing mobile games or recreational games, shopping)'
                    },
                    {
                        no: '8',
                        id: 'Focused Theta',
                        text: 'Focused Theta',
                        value: '7',
                        intro: 'A shallow state of meditation (e.g., shallow concentration, focus while meditating)'
                    },
                    {
                        no: '9',
                        id: 'Focused H-Delta',
                        text: 'Focused H-Delta',
                        value: '8',
                        intro: 'Deep meditation state (e.g., very deep meditation, into another time and space while meditating)'
                    },
                    {
                        no: '10',
                        id: 'Focused L-Delta',
                        text: 'Focused L-Delta',
                        value: '9',
                        intro: 'Deep meditation state (brain waves with extremely low frequency)'
                    },
                ],
                itemFast: [
                    {
                        no: '1',
                        id: 'Relaxed Beta',
                        text: 'F Relaxed Beta',
                        value: '0',
                        intro: 'Relaxed working state (e.g.,regular work)'
                    },
                    {
                        no: '2',
                        id: 'Relaxed Alpha',
                        text: 'Relaxed Alpha',
                        value: '1',
                        intro: 'Relaxed state of rest (e.g.,taking a break, spacing out, vegging out)'
                    },
                    {
                        no: '3',
                        id: 'Relaxed Theta',
                        text: 'Relaxed Theta',
                        value: '2',
                        intro: 'Relaxed light sleep (e.g., meditation, light sleep, half-sleep)'
                    },
                    {
                        no: '4',
                        id: 'Relaxed H-Delta',
                        text: 'Relaxed H-Delta',
                        value: '3',
                        intro: 'Relaxed deep sleep (e.g., sleeping like a rock, be dead to the world)'
                    },
                    {
                        no: '5',
                        id: 'Relaxed L-Delta',
                        text: 'Relaxed L-Delta',
                        value: '4',
                        intro: 'Relaxed deep sleep (brain waves with extremely low frequency)'
                    },
                    {
                        no: '6',
                        id: 'Focused Beta',
                        text: 'Focused Beta',
                        value: '5',
                        intro: 'Concentrated working state (e.g., catching upon the report, taking an exam, in a confrontational competition)'
                    },
                    {
                        no: '7',
                        id: 'Focused Alpha',
                        text: 'Focused Alpha',
                        value: '6',
                        intro: 'Concentrated leisure state (e.g., playing mobile games or recreational games, shopping)'
                    },
                    {
                        no: '8',
                        id: 'Focused Theta',
                        text: 'Focused Theta',
                        value: '7',
                        intro: 'A shallow state of meditation (e.g., shallow concentration, focus while meditating)'
                    },
                    {
                        no: '9',
                        id: 'Focused H-Delta',
                        text: 'Focused H-Delta',
                        value: '8',
                        intro: 'Deep meditation state (e.g., very deep meditation, into another time and space while meditating)'
                    },
                    {
                        no: '10',
                        id: 'Focused L-Delta',
                        text: 'Focused L-Delta',
                        value: '9',
                        intro: 'Deep meditation state (brain waves with extremely low frequency)'
                    },
                ],
                setItems: [
                    {
                        no: 1,
                        amount: 6,
                        text: 'Good Night',
                        intro: 'step by step',
                        content: [
                            'Relaxed Theta',
                            'Relaxed Theta',
                            'Relaxed Theta',
                            'Relaxed L-Delta',
                            'Relaxed L-Delta',
                            'Relaxed H-Delta',
                        ]
                    },
                    {
                        no: 2,
                        amount: 6,
                        text: 'Meditation',
                        intro: 'don ging yi ru',
                        content: [
                            'Relaxed Theta',
                            'Focused Theta',
                            'Focused Theta',
                            'Focused L-Delta',
                            'Focused L-Delta',
                            'Focused H-Delta',
                        ]
                    },
                ],
                list: '',
                lists: [],
                songs_name: [],
                songIndex: 0,
                drag: false,
                repeatMode: `
                <svg width="487" height="487" viewBox="0 0 487 487" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 213.056C0 221.13 3.2068 228.874 8.91494 234.583C14.6231 240.293 22.365 243.5 30.4375 243.5C38.51 243.5 46.2519 240.293 51.9601 234.583C57.6682 228.874 60.875 221.13 60.875 213.056C60.875 188.834 70.4954 165.603 87.6198 148.475C104.744 131.347 127.97 121.725 152.188 121.725H304.375V152.168C304.379 158.196 306.169 164.086 309.517 169.098C312.864 174.109 317.621 178.016 323.187 180.326C328.753 182.636 334.878 183.246 340.789 182.078C346.701 180.91 352.134 178.018 356.404 173.765L417.279 112.877C420.112 110.049 422.359 106.69 423.893 102.993C425.426 99.2951 426.216 95.3314 426.216 91.3283C426.216 87.3253 425.426 83.3615 423.893 79.6639C422.359 75.9663 420.112 72.6075 417.279 69.7798L356.404 8.89201C352.14 4.64466 346.715 1.75366 340.813 0.58282C334.91 -0.588018 328.793 0.0136183 323.231 2.31202C317.669 4.61042 312.911 8.50289 309.556 13.4996C306.201 18.4963 304.398 24.374 304.375 30.393V60.8369H152.188C111.825 60.8369 73.1154 76.8742 44.5747 105.421C16.034 133.968 0 172.685 0 213.056H0ZM487 273.944C487 265.87 483.793 258.126 478.085 252.417C472.377 246.708 464.635 243.5 456.562 243.5C448.49 243.5 440.748 246.708 435.04 252.417C429.332 258.126 426.125 265.87 426.125 273.944C426.125 298.167 416.505 321.397 399.38 338.525C382.256 355.653 359.03 365.276 334.812 365.276H182.625V334.832C182.621 328.805 180.831 322.914 177.483 317.903C174.136 312.891 169.379 308.984 163.813 306.674C158.247 304.364 152.122 303.754 146.211 304.922C140.299 306.09 134.866 308.983 130.596 313.236L69.7209 374.123C66.8881 376.951 64.6406 380.31 63.1072 384.008C61.5738 387.705 60.7845 391.669 60.7845 395.672C60.7845 399.675 61.5738 403.639 63.1072 407.336C64.6406 411.034 66.8881 414.393 69.7209 417.22L130.596 478.108C134.866 482.361 140.299 485.254 146.211 486.422C152.122 487.59 158.247 486.98 163.813 484.67C169.379 482.36 174.136 478.452 177.483 473.441C180.831 468.43 182.621 462.539 182.625 456.512V426.163H334.812C354.798 426.163 374.588 422.226 393.052 414.576C411.516 406.927 428.293 395.714 442.425 381.579C456.557 367.444 467.767 350.664 475.415 332.196C483.064 313.728 487 293.934 487 273.944Z" fill="white"/>
                    <g filter="url(#filter0_d_4_3)">
                    <path d="M298.99 206.364L340.055 275.767H341.646L382.911 206.364H431.533L369.388 308.182L432.925 410H383.408L341.646 340.497H340.055L298.294 410H248.976L312.712 308.182L250.169 206.364H298.99Z" fill="#8A8A8A"/>
                    </g>
                    <defs>
                    <filter id="filter0_d_4_3" x="244.976" y="206.364" width="191.949" height="211.636" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="4"/>
                    <feGaussianBlur stdDeviation="2"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4_3"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4_3" result="shape"/>
                    </filter>
                    </defs>
                    </svg>                    
                `,
                repeatAll: `
                <svg width="487" height="487" viewBox="0 0 487 487" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 213.056C0 221.13 3.2068 228.874 8.91494 234.583C14.6231 240.293 22.365 243.5 30.4375 243.5C38.51 243.5 46.2519 240.293 51.9601 234.583C57.6682 228.874 60.875 221.13 60.875 213.056C60.875 188.834 70.4954 165.603 87.6198 148.475C104.744 131.347 127.97 121.725 152.188 121.725H304.375V152.168C304.379 158.196 306.169 164.086 309.517 169.098C312.865 174.109 317.621 178.016 323.187 180.326C328.753 182.636 334.878 183.246 340.789 182.078C346.701 180.91 352.134 178.018 356.404 173.765L417.279 112.877C420.112 110.049 422.359 106.69 423.893 102.993C425.426 99.2951 426.216 95.3314 426.216 91.3283C426.216 87.3252 425.426 83.3615 423.893 79.6639C422.359 75.9663 420.112 72.6075 417.279 69.7798L356.404 8.89201C352.14 4.64466 346.715 1.75366 340.813 0.58282C334.91 -0.588018 328.793 0.0136183 323.231 2.31202C317.669 4.61042 312.911 8.50289 309.556 13.4996C306.201 18.4963 304.398 24.374 304.375 30.393V60.8369H152.188C111.825 60.8369 73.1154 76.8742 44.5747 105.421C16.034 133.968 0 172.685 0 213.056H0ZM487 273.944C487 265.87 483.793 258.126 478.085 252.417C472.377 246.708 464.635 243.5 456.562 243.5C448.49 243.5 440.748 246.708 435.04 252.417C429.332 258.126 426.125 265.87 426.125 273.944C426.125 298.167 416.505 321.397 399.38 338.525C382.256 355.653 359.03 365.276 334.812 365.276H182.625V334.832C182.621 328.805 180.831 322.914 177.483 317.903C174.136 312.891 169.379 308.984 163.813 306.674C158.247 304.364 152.122 303.754 146.211 304.922C140.299 306.09 134.866 308.983 130.596 313.236L69.7209 374.123C66.8881 376.951 64.6406 380.31 63.1072 384.008C61.5738 387.705 60.7845 391.669 60.7845 395.672C60.7845 399.675 61.5738 403.639 63.1072 407.336C64.6406 411.034 66.8881 414.393 69.7209 417.22L130.596 478.108C134.866 482.361 140.299 485.254 146.211 486.422C152.122 487.59 158.247 486.98 163.813 484.67C169.379 482.36 174.136 478.452 177.483 473.441C180.831 468.43 182.621 462.539 182.625 456.512V426.163H334.812C354.798 426.163 374.588 422.226 393.052 414.576C411.516 406.927 428.293 395.714 442.425 381.579C456.557 367.444 467.767 350.664 475.415 332.196C483.064 313.728 487 293.934 487 273.944Z" fill="white"/>
                    <g filter="url(#filter0_d_4_13)">
                    <path d="M289.072 410H242.935L313.234 206.364H368.717L438.915 410H392.779L341.771 252.898H340.18L289.072 410ZM286.188 329.957H395.165V363.565H286.188V329.957Z" fill="#8A8A8A"/>
                    </g>
                    <defs>
                    <filter id="filter0_d_4_13" x="238.935" y="206.364" width="203.98" height="211.636" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="4"/>
                    <feGaussianBlur stdDeviation="2"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4_13"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4_13" result="shape"/>
                    </filter>
                    </defs>
                    </svg>
                    
                `,
                repeatOne: `
                <svg width="487" height="487" viewBox="0 0 487 487" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 213.056C0 221.13 3.2068 228.874 8.91494 234.583C14.6231 240.293 22.365 243.5 30.4375 243.5C38.51 243.5 46.2519 240.293 51.9601 234.583C57.6682 228.874 60.875 221.13 60.875 213.056C60.875 188.834 70.4954 165.603 87.6198 148.475C104.744 131.347 127.97 121.725 152.188 121.725H304.375V152.168C304.379 158.196 306.169 164.086 309.517 169.098C312.865 174.109 317.621 178.016 323.187 180.326C328.753 182.636 334.878 183.246 340.789 182.078C346.701 180.91 352.134 178.018 356.404 173.765L417.279 112.877C420.112 110.049 422.359 106.69 423.893 102.993C425.426 99.2951 426.216 95.3314 426.216 91.3283C426.216 87.3252 425.426 83.3615 423.893 79.6639C422.359 75.9663 420.112 72.6075 417.279 69.7798L356.404 8.89201C352.14 4.64466 346.715 1.75366 340.813 0.58282C334.91 -0.588018 328.793 0.0136183 323.231 2.31202C317.669 4.61042 312.911 8.50289 309.556 13.4996C306.201 18.4963 304.398 24.374 304.375 30.393V60.8369H152.188C111.825 60.8369 73.1154 76.8742 44.5747 105.421C16.034 133.968 0 172.685 0 213.056H0ZM487 273.944C487 265.87 483.793 258.126 478.085 252.417C472.377 246.708 464.635 243.5 456.562 243.5C448.49 243.5 440.748 246.708 435.04 252.417C429.332 258.126 426.125 265.87 426.125 273.944C426.125 298.167 416.505 321.397 399.38 338.525C382.256 355.653 359.03 365.276 334.812 365.276H182.625V334.832C182.621 328.805 180.831 322.914 177.483 317.903C174.136 312.891 169.379 308.984 163.813 306.674C158.247 304.364 152.122 303.754 146.211 304.922C140.299 306.09 134.866 308.983 130.596 313.236L69.7209 374.123C66.8881 376.951 64.6406 380.31 63.1072 384.008C61.5738 387.705 60.7845 391.669 60.7845 395.672C60.7845 399.675 61.5738 403.639 63.1072 407.336C64.6406 411.034 66.8881 414.393 69.7209 417.22L130.596 478.108C134.866 482.361 140.299 485.254 146.211 486.422C152.122 487.59 158.247 486.98 163.813 484.67C169.379 482.36 174.136 478.452 177.483 473.441C180.831 468.43 182.621 462.539 182.625 456.512V426.163H334.812C354.798 426.163 374.588 422.226 393.052 414.576C411.516 406.927 428.293 395.714 442.425 381.579C456.557 367.444 467.767 350.664 475.415 332.196C483.064 313.728 487 293.934 487 273.944Z" fill="white"/>
                    <g filter="url(#filter0_d_4_8)">
                    <path d="M377.603 227.364V431H334.549V268.23H333.356L286.723 297.463V259.281L337.135 227.364H377.603Z" fill="#8A8A8A"/>
                    </g>
                    <defs>
                    <filter id="filter0_d_4_8" x="282.723" y="227.364" width="98.8807" height="211.636" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="4"/>
                    <feGaussianBlur stdDeviation="2"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4_8"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4_8" result="shape"/>
                    </filter>
                    </defs>
                    </svg>                    
                `,
                repeatNone: `
                <svg width="487" height="487" viewBox="0 0 487 487" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 213.056C0 221.13 3.2068 228.874 8.91494 234.583C14.6231 240.293 22.365 243.5 30.4375 243.5C38.51 243.5 46.2519 240.293 51.9601 234.583C57.6682 228.874 60.875 221.13 60.875 213.056C60.875 188.834 70.4954 165.603 87.6198 148.475C104.744 131.347 127.97 121.725 152.188 121.725H304.375V152.168C304.379 158.196 306.169 164.086 309.517 169.098C312.864 174.109 317.621 178.016 323.187 180.326C328.753 182.636 334.878 183.246 340.789 182.078C346.701 180.91 352.134 178.018 356.404 173.765L417.279 112.877C420.112 110.049 422.359 106.69 423.893 102.993C425.426 99.2951 426.216 95.3314 426.216 91.3283C426.216 87.3253 425.426 83.3615 423.893 79.6639C422.359 75.9663 420.112 72.6075 417.279 69.7798L356.404 8.89201C352.14 4.64466 346.715 1.75366 340.813 0.58282C334.91 -0.588018 328.793 0.0136183 323.231 2.31202C317.669 4.61042 312.911 8.50289 309.556 13.4996C306.201 18.4963 304.398 24.374 304.375 30.393V60.8369H152.188C111.825 60.8369 73.1154 76.8742 44.5747 105.421C16.034 133.968 0 172.685 0 213.056H0ZM487 273.944C487 265.87 483.793 258.126 478.085 252.417C472.377 246.708 464.635 243.5 456.562 243.5C448.49 243.5 440.748 246.708 435.04 252.417C429.332 258.126 426.125 265.87 426.125 273.944C426.125 298.167 416.505 321.397 399.38 338.525C382.256 355.653 359.03 365.276 334.812 365.276H182.625V334.832C182.621 328.805 180.831 322.914 177.483 317.903C174.136 312.891 169.379 308.984 163.813 306.674C158.247 304.364 152.122 303.754 146.211 304.922C140.299 306.09 134.866 308.983 130.596 313.236L69.7209 374.123C66.8881 376.951 64.6406 380.31 63.1072 384.008C61.5738 387.705 60.7845 391.669 60.7845 395.672C60.7845 399.675 61.5738 403.639 63.1072 407.336C64.6406 411.034 66.8881 414.393 69.7209 417.22L130.596 478.108C134.866 482.361 140.299 485.254 146.211 486.422C152.122 487.59 158.247 486.98 163.813 484.67C169.379 482.36 174.136 478.452 177.483 473.441C180.831 468.43 182.621 462.539 182.625 456.512V426.163H334.812C354.798 426.163 374.588 422.226 393.052 414.576C411.516 406.927 428.293 395.714 442.425 381.579C456.557 367.444 467.767 350.664 475.415 332.196C483.064 313.728 487 293.934 487 273.944Z" fill="white"/>
                    <g filter="url(#filter0_d_4_3)">
                    <path d="M298.99 206.364L340.055 275.767H341.646L382.911 206.364H431.533L369.388 308.182L432.925 410H383.408L341.646 340.497H340.055L298.294 410H248.976L312.712 308.182L250.169 206.364H298.99Z" fill="#8A8A8A"/>
                    </g>
                    <defs>
                    <filter id="filter0_d_4_3" x="244.976" y="206.364" width="191.949" height="211.636" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="4"/>
                    <feGaussianBlur stdDeviation="2"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4_3"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4_3" result="shape"/>
                    </filter>
                    </defs>
                    </svg>
                                
                `,
                inH: 0,
                inM: 0,
                inS: 0,
                timer: null,

            },
            computed: {
                dragOptions() {
                    return {

                    };
                }
            },
            methods: {
                //清單托拽
                sort() {
                    this.lists = this.lists.sort((a, b) => a.order - b.order);
                    this.songs_name = this.lists
                },
                dragStart() {
                    this.drag = true
                    this.pauseMusic()
                    this.removeMark(this.songIndex)
                },
                dragEnd() {
                    this.drag = false
                    this.sort()
                },
                //播放器
                showMusic() {
                    $('#subMusic').slideToggle(100);
                    $('#subSet').hide()
                },
                showSlow() {
                    $('#slowList').slideToggle(100)
                    $('#medList').hide()
                    $('#fastList').hide()
                },
                showMed() {
                    $('#medList').slideToggle(100)
                    $('#fastList').hide()
                    $('#slowList').hide()
                },
                showFast() {
                    $('#fastList').slideToggle(100)
                    $('#slowList').hide()
                    $('#medList').hide()
                },
                showSet() {
                    $('#subSet').slideToggle(100)
                    $('#subMusic').hide()
                },
                addMark(index) {
                    $('.musicBtn')[index].classList.add('playing')
                },
                removeMark(index) {
                    $('.musicBtn')[index].classList.remove('playing')
                },
                loadSongs(song) {
                    $('#title').text(song)
                    $('#myAudio').attr('src', `./Data/iMusic/${song}.mp3`)
                    // 獲取音頻總長
                    $('#myAudio')[0].ondurationchange = function () {
                        var duration = $('#myAudio')[0].duration
                        $('.duraTime').html(transTime(duration))
                    }
                },
                addMusic(itemA, itemB) {
                    let list = {
                        id: itemA, //src
                        text: itemB, //show
                        index: this.index
                    }
                    this.lists.push(list)
                    this.songs_name.push(list)
                    if ($('#title').text() == '') {
                        this.loadSongs(list.id)
                    }
                    //console.log(this.lists)
                },
                addSet(itemA, itemB) {
                    for (i = 0; i < itemA; i++) {
                        this.addMusic(itemB[i], itemB[i])
                    }
                },
                removeList(index) {
                    this.removeMark(this.songIndex)
                    this.pauseMusic()
                    this.lists.splice(index, 1)
                    this.songs_name.splice(index, 1)
                    if (this.songs_name[this.songIndex] == undefined) {
                        this.songIndex = 0
                        this.loadSongs(this.songs_name[this.songIndex].id)
                        this.playMusic()
                    } else if (index < this.songIndex) {
                        this.songIndex = this.songIndex - 1
                        this.playMusic()
                    } else if (index == this.songIndex) {
                        this.loadSongs(this.songs_name[this.songIndex].id)
                        this.playMusic()
                    } else {
                        this.playMusic()
                    }
                },
                specified(index) {
                    this.removeMark(this.songIndex)
                    this.songIndex = index
                    this.loadSongs(this.songs_name[this.songIndex].id)
                    this.addMark(this.songIndex)
                    this.playMusic()
                },
                playMusic() {
                    if (this.lists == '') {
                        alert('Please load the music.')
                    } else {
                        $('.iMusic_operate').addClass('play')
                        $('#play').find('i').removeClass('fa-play')
                        $('#play').find('i').addClass('fa-pause')
                        $('#myAudio')[0].play()
                        this.addMark(this.songIndex)
                    }
                },
                pauseMusic() {
                    $('.iMusic_operate').removeClass('play')
                    $('#play').find('i').addClass('fa-play')
                    $('#play').find('i').removeClass('fa-pause')
                    $('#myAudio')[0].pause()
                },
                nextSong(e) {
                    if (this.songIndex < this.songs_name.length - 1) {
                        this.removeMark(this.songIndex)
                        this.songIndex += 1
                    } else {
                        this.removeMark(this.songIndex)
                        this.songIndex = 0
                    }
                    var duration = $('#myAudio')[0].duration
                    this.loadSongs(this.songs_name[this.songIndex].id)
                    this.playMusic()
                },
                prevSong(e) {
                    if (this.songIndex > 0) {
                        this.removeMark(this.songIndex)
                        this.songIndex -= 1
                    } else {
                        this.removeMark(this.songIndex)
                        this.songIndex = this.songs_name.length - 1
                    }
                    this.loadSongs(this.songs_name[this.songIndex].id)
                    this.playMusic()
                },
                endSong() {
                    var normal = $('#playMode').hasClass('normal')
                    var repeatOne = $('#playMode').hasClass('repeatOne')
                    var repeatAll = $('#playMode').hasClass('repeatAll')
                    if (normal) {
                        if (this.songIndex < this.songs_name.length - 1) {
                            this.removeMark(this.songIndex)
                            this.songIndex += 1
                            this.loadSongs(this.songs_name[this.songIndex].id)
                            this.playMusic()
                        } else {
                            this.pauseMusic()
                        }
                    } else if (repeatOne) {
                        this.songIndex += 0
                        this.loadSongs(this.songs_name[this.songIndex].id)
                        this.playMusic()
                    } else if (repeatAll) {
                        if (this.songIndex < this.songs_name.length - 1) {
                            this.removeMark(this.songIndex)
                            this.songIndex += 1
                        } else {
                            this.removeMark(this.songIndex)
                            this.songIndex = 0
                        }
                        this.loadSongs(this.songs_name[this.songIndex].id)
                        this.playMusic()
                    }
                },
                play() {
                    var hasPlay = $('.iMusic_operate').hasClass('play')
                    if (!hasPlay) {
                        this.playMusic()
                    } else {
                        this.pauseMusic()
                    }
                },
                setVolume() {
                    $('#myAudio')[0].volume = $('.volume_slider').val() / 100;
                },
                silent() {
                    $('.iVolume_bar').removeClass('hasVolume')
                    $('.iVolume_bar').find('i').removeClass('fa-volume-high')
                    $('.iVolume_bar').find('i').addClass('fa-volume-xmark')
                    $('#myAudio')[0].volume = 0
                },
                loud() {
                    $('.iVolume_bar').addClass('hasVolume')
                    $('.iVolume_bar').find('i').removeClass('fa-volume-xmark')
                    $('.iVolume_bar').find('i').addClass('fa-volume-high')
                    this.setVolume()
                },
                openVolume() {
                    var hasVolume = $('.iVolume_bar').hasClass('hasVolume')
                    if (hasVolume) {
                        this.silent()
                    } else {
                        this.loud()
                    }
                },
                normalMode() {
                    $('#playMode').removeClass('repeatAll')
                    $('#playMode').addClass('normal')
                    this.repeatMode = this.repeatNone;
                },
                repeatOneMode() {
                    $('#playMode').removeClass('normal')
                    $('#playMode').addClass('repeatOne')
                    this.repeatMode = this.repeatOne
                },
                repeatAllMode() {
                    $('#playMode').removeClass('repeatOne')
                    $('#playMode').addClass('repeatAll')
                    this.repeatMode = this.repeatAll
                },
                modeBtn() {
                    var normal = $('#playMode').hasClass('normal')
                    var repeatOne = $('#playMode').hasClass('repeatOne')
                    var repeatAll = $('#playMode').hasClass('repeatAll')
                    if (normal) {
                        this.repeatOneMode()
                    } else if (repeatOne) {
                        this.repeatAllMode()
                    }
                    else if (repeatAll) {
                        this.normalMode()
                    }
                },
                //計時器
                showTimer() {
                    $('#setClock').slideToggle(100)
                },
                startTimer() {
                    this.timer = window.setInterval(this.timing, 1000)
                },
                pauseTimer() {
                    clearInterval(this.timer)
                },
                resetTimer() {
                    if (this.timer) {
                        clearInterval(this.timer)
                    }
                    this.inH = 0
                    this.inM = 0
                    this.inS = 0
                },
                timing() {
                    if (this.inS > 0) {
                        this.inS--
                    } else if (this.inS == 0) {
                        if (this.inM > 0) {
                            this.inS = 60;
                            this.inM--;
                        } else if (this.inM == 0) {
                            if (this.inH > 0) {
                                this.inS = 60
                                this.inM = 59;
                                this.inH--
                            } else if (this.inH == 0) {
                                this.pauseTimer()
                                this.pauseMusic()
                            }
                        }
                    }
                },
            },
        })
    </script>
    <script>
        //格式化時間格式
        function transTime(time) {
            let transDura = parseInt(time)
            let minute = parseInt(transDura / 60)
            let sec = (transDura % 60) + ''
            let isM0 = ':'
            if (minute == 0) {
                minute = '00'
            } else if (minute < 10) {
                minute = '0' + minute
            }
            if (sec == 0) {
                sec = '00'
            } else if (sec < 10) {
                sec = '0' + sec
            }
            return minute + isM0 + sec
        }


        // 時間長度條
        $('#myAudio')[0].ontimeupdate = function () {
            var duration = $('#myAudio')[0].duration
            var currentTime = $('#myAudio')[0].currentTime
            const progressPercent = (currentTime / duration) * 100
            const progressRotation = (currentTime / duration) * 360 * 40

            $('.slide').css('left', `${progressPercent}%`)
            $('.fill').css('width', `${progressPercent}%`)
            $('.iMusic_picture_images').css('rotate', `-${progressRotation}deg`)
            if (currentTime == 0) {
                $('.slide').css('left', '0%')
                $('.iMusic_picture_images').css('rotate', '0deg')
            }
            $('.currentTime').html(transTime(parseInt($('#myAudio')[0].currentTime)))
        }

        // 點擊進度條
        $('.progress').click(function (e) {
            var rate =
                ((e.clientX - $('.progress')[0].offsetLeft) / this.clientWidth) * $('#myAudio')[0].duration
            $('#myAudio')[0].currentTime = rate - $('.progress')[0].clientWidth * 0.005
        })

        // 拖動進度條
        $('.slide').on('mousedown', function (e) {
            var x = e.clientX - this.offsetLeft
            document.onmousemove = function (e) {
                var jlx = ((e.clientX - x) / $('.progress')[0].clientWidth) * 100
                if (jlx <= 100 && jlx >= 0) {
                    $('.slide').css('left', `${jlx}%`)
                }
                $('#myAudio')[0].currentTime = (jlx / 100) * $('#myAudio')[0].duration
            }
            document.onmouseup = function (e) {
                document.onmousemove = null
                document.onmouseup = null
            }
        })

        $('.slide').on('touchstart', function (e) {
            var x = e.targetTouches[0].clientX - this.offsetLeft
            document.ontouchmove = function (e) {
                var jlx = ((e.targetTouches[0].clientX - x) / $('.progress')[0].clientWidth) * 100
                if (jlx <= 100 && jlx >= 0) {
                    $('.slide').css('left', `${jlx}%`)
                }
                $('#myAudio')[0].currentTime = (jlx / 100) * $('#myAudio')[0].duration
            }
            document.onmouseup = function (e) {
                document.onmousemove = null
                document.onmouseup = null
            }
        })
    </script>
</body>

</html>